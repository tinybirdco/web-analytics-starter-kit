
- name: actions_tenant_1_with_data
  description: Test actions for tenant_1 which has both page_hit and web_vital actions
  parameters: tenant_id=tenant_1
  expected_result: |
    {"domain":"demo.site","action":"web_vital","last_payload":"{\n            \"name\": \"TTFB\",\n            \"value\": 1641,\n            \"delta\": 41,\n            \"pathname\": \"\/blog\",\n            \"domain\": \"demo.site\"\n        }","last_seen":"2025-07-16 03:34:38","total_occurrences":150}
    {"domain":"myapp.com","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/contact\",\n            \"href\": \"https:\/\/myapp.com\/about\",\n            \"referrer\": \"https:\/\/instagram.com\/\",\n            \"userAgent\": \"Mozilla\/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.0 Mobile\/15E148 Safari\/604.1\",\n            \"locale\": \"fr-FR\",\n            \"location\": {\n                \"country\": \"Germany\",\n                \"city\": \"Tokyo\"\n            }\n        }","last_seen":"2025-07-15 00:43:47","total_occurrences":170}
    {"domain":"test.org","action":"web_vital","last_payload":"{\n            \"name\": \"INP\",\n            \"value\": 563,\n            \"delta\": 13,\n            \"pathname\": \"\/blog\",\n            \"domain\": \"test.org\"\n        }","last_seen":"2025-07-14 04:23:26","total_occurrences":167}
    {"domain":"app.demo.io","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/settings\",\n            \"href\": \"https:\/\/app.demo.io\/contact\",\n            \"referrer\": \"https:\/\/linkedin.com\/\",\n            \"userAgent\": \"Mozilla\/5.0 (Linux; Android 11; SM-G991B) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/91.0.4472.120 Mobile Safari\/537.36\",\n            \"locale\": \"it-IT\",\n            \"location\": {\n                \"country\": \"Spain\",\n                \"city\": \"Chicago\"\n            }\n        }","last_seen":"2025-07-13 07:02:05","total_occurrences":166}
    {"domain":"example.com","action":"web_vital","last_payload":"{\n            \"name\": \"LCP\",\n            \"value\": 3995,\n            \"delta\": 95,\n            \"pathname\": \"\/pricing\",\n            \"domain\": \"example.com\"\n        }","last_seen":"2025-07-11 21:40:44","total_occurrences":161}
    {"domain":"demo.site","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/login\",\n            \"href\": \"https:\/\/demo.site\/about\",\n            \"referrer\": \"https:\/\/\/\",\n            \"userAgent\": \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.1.1 Safari\/605.1.15\",\n            \"locale\": \"fr-FR\",\n            \"location\": {\n                \"country\": \"Japan\",\n                \"city\": \"Tokyo\"\n            }\n        }","last_seen":"2025-07-11 01:20:23","total_occurrences":147}
    {"domain":"myapp.com","action":"web_vital","last_payload":"{\n            \"name\": \"FCP\",\n            \"value\": 957,\n            \"delta\": 57,\n            \"pathname\": \"\/blog\",\n            \"domain\": \"myapp.com\"\n        }","last_seen":"2025-07-10 03:59:02","total_occurrences":176}
    {"domain":"test.org","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/features\",\n            \"href\": \"https:\/\/test.org\/about\",\n            \"referrer\": \"https:\/\/facebook.com\/\",\n            \"userAgent\": \"Mozilla\/5.0 (iPad; CPU OS 14_6 like Mac OS X) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.0 Mobile\/15E148 Safari\/604.1\",\n            \"locale\": \"fr-FR\",\n            \"location\": {\n                \"country\": \"Canada\",\n                \"city\": \"London\"\n            }\n        }","last_seen":"2025-07-09 06:37:41","total_occurrences":200}
    {"domain":"app.demo.io","action":"web_vital","last_payload":"{\n            \"name\": \"CLS\",\n            \"value\": 1393202869.5,\n            \"delta\": 39,\n            \"pathname\": \"\/pricing\",\n            \"domain\": \"app.demo.io\"\n        }","last_seen":"2025-07-08 03:46:50","total_occurrences":162}

- name: actions_tenant_2_with_data
  description: Test actions for tenant_2 which has both page_hit and web_vital actions
  parameters: tenant_id=tenant_2
  expected_result: |
    {"domain":"demo.site","action":"web_vital","last_payload":"{\n            \"name\": \"TTFB\",\n            \"value\": 1211,\n            \"delta\": 11,\n            \"pathname\": \"\/pricing\",\n            \"domain\": \"demo.site\"\n        }","last_seen":"2025-07-16 06:25:28","total_occurrences":183}
    {"domain":"myapp.com","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/settings\",\n            \"href\": \"https:\/\/myapp.com\/contact\",\n            \"referrer\": \"https:\/\/linkedin.com\/\",\n            \"userAgent\": \"Mozilla\/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.0 Mobile\/15E148 Safari\/604.1\",\n            \"locale\": \"it-IT\",\n            \"location\": {\n                \"country\": \"Germany\",\n                \"city\": \"New York\"\n            }\n        }","last_seen":"2025-07-14 21:04:07","total_occurrences":159}
    {"domain":"test.org","action":"web_vital","last_payload":"{\n            \"name\": \"INP\",\n            \"value\": 723,\n            \"delta\": 23,\n            \"pathname\": \"\/pricing\",\n            \"domain\": \"test.org\"\n        }","last_seen":"2025-07-13 23:42:46","total_occurrences":180}
    {"domain":"app.demo.io","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/login\",\n            \"href\": \"https:\/\/app.demo.io\/about\",\n            \"referrer\": \"https:\/\/\/\",\n            \"userAgent\": \"Mozilla\/5.0 (Linux; Android 11; SM-G991B) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/91.0.4472.120 Mobile Safari\/537.36\",\n            \"locale\": \"fr-FR\",\n            \"location\": {\n                \"country\": \"Spain\",\n                \"city\": \"Paris\"\n            }\n        }","last_seen":"2025-07-13 03:22:25","total_occurrences":174}
    {"domain":"example.com","action":"web_vital","last_payload":"{\n            \"name\": \"LCP\",\n            \"value\": 1825,\n            \"delta\": 25,\n            \"pathname\": \"\/home\",\n            \"domain\": \"example.com\"\n        }","last_seen":"2025-07-11 23:30:34","total_occurrences":154}
    {"domain":"demo.site","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/dashboard\",\n            \"href\": \"https:\/\/demo.site\/login\",\n            \"referrer\": \"https:\/\/youtube.com\/\",\n            \"userAgent\": \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.1.1 Safari\/605.1.15\",\n            \"locale\": \"ja-JP\",\n            \"location\": {\n                \"country\": \"Japan\",\n                \"city\": \"Seattle\"\n            }\n        }","last_seen":"2025-07-10 20:39:43","total_occurrences":138}
    {"domain":"myapp.com","action":"web_vital","last_payload":"{\n            \"name\": \"FCP\",\n            \"value\": 2807,\n            \"delta\": 7,\n            \"pathname\": \"\/product\",\n            \"domain\": \"myapp.com\"\n        }","last_seen":"2025-07-09 17:48:52","total_occurrences":181}
    {"domain":"test.org","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/login\",\n            \"href\": \"https:\/\/test.org\/about\",\n            \"referrer\": \"https:\/\/\/\",\n            \"userAgent\": \"Mozilla\/5.0 (iPad; CPU OS 14_6 like Mac OS X) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.0 Mobile\/15E148 Safari\/604.1\",\n            \"locale\": \"fr-FR\",\n            \"location\": {\n                \"country\": \"Canada\",\n                \"city\": \"London\"\n            }\n        }","last_seen":"2025-07-08 20:27:31","total_occurrences":174}
    {"domain":"app.demo.io","action":"web_vital","last_payload":"{\n            \"name\": \"CLS\",\n            \"value\": 1664162184.5,\n            \"delta\": 69,\n            \"pathname\": \"\/home\",\n            \"domain\": \"app.demo.io\"\n        }","last_seen":"2025-07-08 00:07:10","total_occurrences":161}

- name: actions_empty_tenant
  description: Test actions for tenant with no data
  parameters: tenant_id=tenant_999
  expected_result: ''

- name: actions_default_tenant
  description: Test actions endpoint with default empty tenant_id parameter
  parameters: tenant_id=
  expected_result: |
    {"domain":"","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/settings\",\n            \"href\": \"https:\/\/example.com\/login\",\n            \"referrer\": \"\",\n            \"userAgent\": \"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/91.0.4472.124 Safari\/537.36\",\n            \"locale\": \"ja-JP\",\n            \"location\": {\n                \"country\": \"United States\",\n                \"city\": \"Paris\"\n            }\n        }","last_seen":"2025-07-17 07:26:29","total_occurrences":524}
    {"domain":"demo.site","action":"page_hit","last_payload":"{\n            \"pathname\": \"\/\",\n            \"href\": \"https:\/\/demo.site\/about\",\n            \"referrer\": \"https:\/\/google.com\/\",\n            \"userAgent\": \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit\/605.1.15 (KHTML, like Gecko) Version\/14.1.1 Safari\/605.1.15\",\n            \"locale\": \"fr-FR\",\n            \"location\": {\n                \"country\": \"Japan\",\n                \"city\": \"London\"\n            }\n        }","last_seen":"2023-09-30 05:00:03","total_occurrences":1}
